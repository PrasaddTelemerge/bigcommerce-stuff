<style>
	.CartContents .CartItemQuantity {
		position: relative;
	}
	.confRemPrompt {
		display: inline-block;
		width: 100%;
		height: 100px;
		position: absolute;
		background-color: #fff;
		left: 0;
		top: 0;
		z-index: 1;
		padding: 10px;
		box-sizing: border-box;
	}
	.confRemPrompt span {
		font-size: 11px;
	}
	.confRemPrompt .conf-btn {
		display: inline-block;
		border-radius: 50%;
		font-size: 30px;
		margin: 20px 10px 0;
	}
	.confRemPrompt .conf-btn:hover {
		cursor: pointer;
	}
	.fa-check-circle {
		color: #6ada78;
	}
	.fa-times-circle {
		color: #f47d77;
	}
	.prompt-table {
		
	}
</style>
<script>
// Panels/CartContent.html --> <tbody>SNIPPET_CartItems%%</tbody> -- > place %%Panel.CartRemovalAJAX%% here
// Add removal prompt
// Add new html to tr on removal confirm which allows customer to re-add the removed item -- use item image for id


	function ajaxifyCartRemoval() {
		var allCartLinks = $('a.CartRemoveLink');
		allCartLinks.each( function() {
			var removeLink = $(this).attr('href');
			var removeLinkSplit = removeLink.split('item=');
			var removeItemId = removeLinkSplit[1];
			var origItemOnclick = $(this).unbind().attr('onclick', 'newCartRemovalFunc("' + removeItemId + '", $(this)); return false;');
			$(this).attr('href', '#');
		});
	}
	
	//ajaxifyCartRemoval();

	function newCartRemovalFunc(globalItemId, removeAnch) {
		//Remove any prompt that is already open
		$('.confRemPrompt').fadeOut().remove();
		
		//Add "Are you sure?" prompt with green and red button
		var cartQtyBox = removeAnch.parents('.CartItemQuantity');
		var origQtyBoxHtml = cartQtyBox.html();
		console.log(cartQtyBox);
		console.log(origQtyBoxHtml);
		
		var confirmButtons = '<span class="conf-btn fa fa-check-circle">.</span><span class="conf-btn fa fa-times-circle">.</span></span>';
		var confirmPrompt = '<span class="confRemPrompt"><span>Are you sure you want to remove this item?</span>' + confirmButtons;
		var newQtyBoxHtml = confirmPrompt;
		console.log(newQtyBoxHtml);
		var fuckingTable = '<table class="prompt-table"><thead></thead><tbody><tr><td>' + newQtyBoxHtml + '</td></tr></tbody></table>';
				
		//cartQtyBox.html(newQtyBoxHtml);
		cartQtyBox.html(newQtyBoxHtml);

		var checkHTML = function(html) {
			var doc = document.createElement('div');
			doc.innerHTML = html;
			return ( doc.innerHTML === html );
		}
		function tidyHTML(html) {
			var d = document.createElement('div');
			d.innerHTML = html;
			return d.innerHTML;
		}
		console.log(checkHTML(newQtyBoxHtml));
		console.log(newQtyBoxHtml);
		console.log(tidyHTML(newQtyBoxHtml));
		
		
		
		//Find current qty and find item qty and calculate what the cart-aty would be if item was removed
		var thisItemQuantity = parseInt(cartQtyBox.find('.quantityInput').val());
		var cartQuantity = $('.header-secondary .CartLink span');
		var currentCartQuantity = parseInt($('.header-secondary .CartLink span').text());
		var newCartQuantity = (currentCartQuantity - thisItemQuantity);
		//Define confirmation button on-click behavior 
		var thisCartItem = removeAnch.parents().eq(2);
			//Confirm YES button action
		$('.conf-btn.fa-check-circle').on('click', function(e) {
			e.stopPropagation();
			$.post('https://dankstop.com/cart.php?action=remove&item=' + globalItemId + '', function() {
				thisCartItem.slideUp('slow');
				cartQuantity.hide().html(newCartQuantity).fadeIn('slow');
			});
		});
			//Confirm NO button action
/*
		$(document).on('click', function (e) {
			$('.confRemPrompt').fadeOut().remove();
		});
*/
	}

console.log('Hello! this workkksssss....');
</script>